<div class="formulario">
  <form #LibroForm = "ngForm" (ngSubmit)="registrarLibros(LibroForm);LibroForm.reset()">
    <div class="container card">
        <input type="text" id="IdLibro" class="d-none" name="IdLibro" [(ngModel)]="this.data_api.seleccionarLibro.IdLibro" >
        <div class="row mt-4 mb-4">
            <div class="col-md-3 col-sm-12 ml-3">
              <div class="row">
                <label for="txtCodigoLibro">Codigo de libro</label>
                <input type="text" id="Codigo" name="Codigo" title="Codigo de libro" placeholder="Ingrese el codigo del libro..." 
                class="form-control" maxlength="20"  required
                [(ngModel)]="this.data_api.seleccionarLibro.Codigo"  onkeypress="return validarCodigoLibro(event);">
                <small id="alertCodigo" class="text-danger">Rellene el campo de codigo libro!</small>
              </div>
                <div class="row">
                  <label for="txtTituloLibro">Titulo del libro</label>
                  <input type="text" id="Titulo" name="Titulo" title="Titulo de libro" placeholder="Ingrese el titulo del libro..." 
                  class="form-control" maxlength="20" required
                  [(ngModel)]="this.data_api.seleccionarLibro.Titulo" onkeypress="return validarTituloLibro(event);">
                  <small id="alertTitulo" class="text-danger">Rellene el campo de titulo de libro!</small>
                </div>
                <div class="row">
                  <label for="txtAutorLibro">Autor del libro</label>
                  <input type="text" id="Autor" name="Autor" title="Autor del libro" placeholder="Ingrese el nombre del autor del libro..." 
                  class="form-control" maxlength="20" required
                  [(ngModel)]="this.data_api.seleccionarLibro.Autor" onkeypress="return validarAutorLibro(event);">
                  <small id="alertAutor" class="text-danger ">Rellene el campo de autor de libro!</small>
                </div>
                <div class="row">
                  <label for="txtPrecioLibro">Precio de libro</label>
                  <input type="text" id="Precio" name="Precio" title="Precio de libro" placeholder="Ingrese precio del libro..."
                  class="form-control" maxlength="20" required
                   [(ngModel)]="this.data_api.seleccionarLibro.Precio" onkeypress="return valideKey(event);">
                   <small id="alertPrecio" class="text-danger ">Rellene el campo de precio de libro!</small>
                </div>
                <div class="row">
                  <label for="txtLinkAmazon">Link amazon</label>
                  <input type="text" id="LinkAmazon" name="LinkAmazon" title="Link de amazon" placeholder="Ingrese el link de amazon..." 
                  class="form-control" required
                  [(ngModel)]="this.data_api.seleccionarLibro.LinkAmazon" onkeypress="return validarLinkLibro(event);">  
                  <small id="alertLink" class="text-danger">Ingrese el link del libro!</small>           
                </div>
                <div class="row">
                  <label for="txtLinkAmazon">Subir imagen:</label>
                  <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <input type="file" id="imagen" name="imagen" [(ngModel)]="this.data_api.seleccionarLibro.Imagen" 
                      accept=".png, .jpg" (change)="subirImg($event.target.files)" >
                    </div>                   
                  </div>                  
                </div> 
                <div class="row">
                  <button type="submit" onclick="validarCampos();" title="Guardar"class="btn btn-primary mb-2 mt-2">Guardar</button>
                </div>                      
            </div>            <div class="col-md-8 col-sm-12">
                    <label for="">Busqueda</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="inputGroupPrepend2"><i class="fas fa-search"></i></span>
                        </div>
                        <input type="text" class="form-control" id="validationDefaultUsername" placeholder="Ingrese el libro a buscar.." aria-describedby="inputGroupPrepend2">
                    </div>
                    <br>
                    <table class="table table-striped">
                        <thead class="thead-dark">
                          <tr>
                            <th scope="col">#</th>
                            <th scope="col">Codigo</th>
                            <th scope="col">Titulo</th>
                            <th scope="col">Autor</th>
                            <th scope="col">Precio</th>
                            <th scope="col">Acci√≥n</th>
                          </tr>
                        </thead>
                        <tbody id="librosTabla">
                          <tr *ngFor = "let libro of Respuesta ; index as i">
                            <th scope="row">{{i+1}}</th>
                            <td style="text-align: center;">{{libro.Codigo}}</td>
                            <td style="text-align: center;">{{libro.Titulo}}</td>
                            <td style="text-align: center;">{{libro.Autor}}</td>
                            <td style="text-align: center;">{{libro.Precio}}</td>                            
                            <td>                                
                                
                                <button style="width: 100%;" type="button" id="btnEditar"
                                 name="btnEditar" class="btn btn-warning mb-1" title="Editar libro" 
                                 (click)="SeleccionarLibro(libro)">
                                 <i class="far fa-edit"></i>                            
                                </button>                                
                                <a (click)="eliminarLibros(libro.IdLibro)" style="width: 100%;" type="button" id="btnEliminar" name="btnEliminar" class="btn btn-danger" title="Eliminar libro"><i class="far fa-trash-alt"></i></a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                </div>
            </div>
        </div>
    </form>
</div>